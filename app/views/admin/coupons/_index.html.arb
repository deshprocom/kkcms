context.instance_eval do
  column :id
  column :coupon_number, sortable: false
  column :coupon_temp, sortable: false do |t|
    I18n.t("coupon_type.#{t.coupon_temp.coupon_type}")
  end
  column :receive_time
  column :expire_time
  column :user_id, sortable: false do |t|
    avatar_profile(t.user, size: 70) if t.user.present?
  end
  column :target
  column :pay_time
  column :created_at
  column :coupon_status, sortable: false do |t|
    I18n.t("coupon_status.#{t.coupon_status}")
  end
  actions name: '操作', defaults: false do |coupon|
    if coupon.receive_time.blank?
      item '删除', admin_coupon_path(coupon), method: :delete, data: { confirm: '确定删除吗？' }
    end
  end
end